<div class="discourse-automation modal add-trigger">
  {{#d-modal-body title="discourse_automation.trigger.form.add_trigger"}}
    {{partial "form-errors"}}

    {{#conditional-loading-spinner condition=isLoadingTriggers}}
      {{combo-box
        none="discourse_automation.trigger.form.choose_trigger"
        content=triggerables
        onSelect=(action "onSelectTrigger")
      }}
      {{#each-in triggerable.fields as |fieldName fieldSpecification|}}
        {{workflow-field
          fieldName=fieldName
          fieldSpecification=fieldSpecification
          object=trigger
          workflow=workflow
          onChange=(action "onChangeField")
        }}
      {{/each-in}}
    {{/conditional-loading-spinner}}
  {{/d-modal-body}}

  <div class="modal-footer">
    {{d-button
      action=(action "saveTrigger")
      class="btn-primary"
      label="save"
    }}

    {{d-modal-cancel close=(route-action "closeModal")}}
  </div>
</div>
